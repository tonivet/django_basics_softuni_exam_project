{% extends 'base.html'  %}
{% load static %}

{% block content %}
    <h3 class="mt-3 mb-3 text-center">Документи</h3>

    <div class="ms-auto mb-3">
        <a href="{% url 'documents-create' %}" class="btn btn-outline-primary ms-auto">Добави документ</a>
    </div>

    <div class="accordion" id="accordionExample">

        <div class="accordion-item">
            <h2 class="accordion-header">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                Протоколи от общи събрания
              </button>
            </h2>
            <div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    {% for document in documents %}
                    {% if document.type == "Protocol" %}
                            <div class="d-flex border rounded mb-1">
                                <div class="p-2">{{  document.uploaded_at|date:"j M Y" }}&nbsp;&nbsp;&nbsp;&nbsp;{{ document.title }}</div>
                                <div class="btn-group ms-auto p-1">
                                    <a class="btn btn-outline-primary" href="{% url 'document-download' document.pk %}">Изтегли</a>
                                    <a class="btn btn-outline-danger" href="{% url 'document-delete' document.pk %}">Изтрий</a>
                                </div>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            </div>
        </div>

        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
              Фактури
            </button>
          </h2>
            <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    {% for document in documents %}
                    {% if document.type == "Invoice" %}
                            <div class="d-flex border rounded mb-1">
                                <div class="p-2">{{  document.uploaded_at|date:"j M Y" }}&nbsp;&nbsp;&nbsp;&nbsp;{{ document.title }}</div>
                                <div class="btn-group ms-auto p-1">
                                    <a class="btn btn-outline-primary" href="{% url 'document-download' document.pk %}">Изтегли</a>
                                    <a class="btn btn-outline-danger" href="{% url 'document-delete' document.pk %}">Изтрий</a>
                                </div>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            </div>
        </div>

        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
              Служебна поща
            </button>
          </h2>
          <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    {% for document in documents %}
                    {% if document.type == "Mail" %}
                            <div class="d-flex border rounded mb-1">
                                <div class="p-2">{{  document.uploaded_at|date:"j M Y" }}&nbsp;&nbsp;&nbsp;&nbsp;{{ document.title }}</div>
                                <div class="btn-group ms-auto p-1">
                                    <a class="btn btn-outline-primary" href="{% url 'document-download' document.pk %}">Изтегли</a>
                                    <a class="btn btn-outline-danger" href="{% url 'document-delete' document.pk %}">Изтрий</a>
                                </div>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
          </div>
        </div>

        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
              Други
            </button>
          </h2>
          <div id="collapseFour" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    {% for document in documents %}
                    {% if document.type == "Other" %}
                            <div class="d-flex border rounded mb-1">
                                <div class="p-2">{{  document.uploaded_at|date:"j M Y" }}&nbsp;&nbsp;&nbsp;&nbsp;{{ document.title }}</div>
                                <div class="btn-group ms-auto p-1">
                                    <a class="btn btn-outline-primary" href="{% url 'document-download' document.pk %}">Изтегли</a>
                                    <a class="btn btn-outline-danger" href="{% url 'document-delete' document.pk %}">Изтрий</a>
                                </div>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
          </div>
        </div>

    </div>

{% endblock %}
